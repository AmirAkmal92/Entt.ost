@using Bespoke.Sph.Domain
@model Bespoke.Sph.Domain.Button
@if (string.IsNullOrWhiteSpace(Model.Enable))
{
    Model.Enable = "true";
}
@{
    var binding = Model.UseClick ? "click" : "command";
    var operation = (Model.OperationMethod + Model.Operation + "Command").ToCamelCase();
    var handler = operation == "command" ? Model.CommandName : operation;
    if (string.IsNullOrWhiteSpace(Model.Operation) && string.IsNullOrWhiteSpace(Model.CommandName))
    {
        handler = ("delete" + Model.DeleteOperation + "Command").ToCamelCase();
    }
}
<button data-bind="@binding : $root.@handler, visible :@Model.Visible, enable: @Model.Enable" class="@Model.CssClass">
    @if (!string.IsNullOrWhiteSpace(Model.IconClass))
    {
        <i class="@Model.IconClass"></i>
    }
    @Model.Label
</button>
